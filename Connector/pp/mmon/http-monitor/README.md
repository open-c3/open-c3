# 监控/业务入口监控

## 介绍

```
Open-C3中的CMDB能自动获取企业中的所有域名，nginx配置。
这里可以定时生成所有的业务入口url进行监控。


主要监控业务入口状态码和https证书有效期。
```

## 配置

```
默认情况下不会自动生成这部分监控。
需要在当前目录的src.txt文件中写入采集的源机器的ip或者域名。

可以参考 src.example.txt 文件的格式。

在src.txt的文件中，描述的是你要在什么机器上对业务url地址监控探测。
需要在这些机器上执行本目录中的start-docker.sh脚本。它会在机器上启动一个容器，开启9115端口。
确保open-c3的机器可以访问通这个端口。

```

## snapshot

```
有的企业，可能需要监控的url很多。一下子不好排查，可以执行./snapshot-make.sh
它会把当前的情况进行一个锁定。如果监控的url返回码发生变化了在进行告警。


获取3个小时内的数据，获取所有url中的返回码。 如果返回码是0的取消，可能是暂时不通。
如果有多个返回码，有200的情况下是200。否则哪个返回码数量多就是哪个。

```

## mark

```
有的情况下，你可能想自己定义一些要监控的url。在cmdb自动生成的范围之外。

可以把要监控的内容记录到mark.txt文件中，格式可以参考mark.example.txt
```

## ignore

```
系统根据CMDB自动生成了很多要监控的url，如果有不需要监控的，请记录到ignore.txt文件中。
系统会把这部分url屏蔽掉。

格式是一行一个url，可以参考mark.example.txt文件内容
```
