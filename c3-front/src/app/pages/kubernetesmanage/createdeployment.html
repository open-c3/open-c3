<div class="row block">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <span class="panel-controls">
                <button class="btn btn-primary" uib-tooltip="刷新" ng-click="kubernetescreatedeployment.reload()" ><i class="fa fa-refresh fa-fw" ng-class="{'fa-spin':!kubernetescreatedeployment.loadover}" ></i></button>
                <button class="btn btn-primary" uib-tooltip="关闭" ng-click="kubernetescreatedeployment.cancel()"><i class="fa fa-times" aria-hidden="true"></i></button>
            </span>
            <h5>无状态应用</h5>
        </div>

        <div class="panel-body" ng-if="editstep===0">
  
            <div class="pt20">
                <table class="textdiff">
                    <tr>
                        <td>
                            <textarea style="width: 100%;overflow: auto;word-break: break-all;height: 1000px;" ng-model="kubernetescreatedeployment.newyaml"> </textarea>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="row">
                <div class="col-sm-2 form-group pull-right">
                    <button class="btn btn-primary" ng-disabled="myForm.$invalid" ng-click="kubernetescreatedeployment.gotostep1()">下一步</button>
                </div>
            </div>
        </div>

        <div class="panel-body" ng-if="editstep===1" >
            <div class="row">
                <div class="col-sm-2 form-group pull-right">
                    <button class="btn btn-info" ng-disabled="myForm.$invalid" ng-click="kubernetescreatedeployment.gotostep0()">导入YAML</button>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label">名称</label>
                    <div class="col-sm-3">
                        <input type="text" class="form-control" name="adduser" placeholder="名称" ng-disabled="kubernetescreatedeployment.tasktype==='apply'" ng-model="kubernetescreatedeployment.editData.metadata.name" required>
                    </div>
                    <label class="col-sm-1 control-label">命名空间</label>
                    <div class="col-sm-3">
                        <input ng-if="kubernetescreatedeployment.namespace!==''"  ng-disabled="1" type="text" class="form-control" name="adduser" placeholder="名称" ng-disabled="kubernetescreatedeployment.tasktype==='apply'" ng-model="kubernetescreatedeployment.editData.metadata.namespace" required>
                        <select id="selectednameval" class="form-control" ng-if="kubernetescreatedeployment.namespace===''"  ng-model="kubernetescreatedeployment.editData.metadata.namespace" required>
                             <option ng-repeat="x in kubernetescreatedeployment.namespaces" value="{{x.NAME}}">{{x.NAME}}</option>
                        </select>
                    </div>
 
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label">描述</label>
                    <div class="col-sm-7">
                        <input type="text" class="form-control" name="adduser" placeholder="描述" ng-model="kubernetescreatedeployment.editData.metadata.annotations.describe" required>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label">标签</label>
                    <div class="col-sm-1">
                        <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addLabel()" uib-tooltip="添加标签" style="cursor:pointer;color: #339094;" ></i>
                    </div>
                </div>

            </div>

            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label"></label>
                    <div class="col-sm-7">
                        <table  border="0" style="width: 100%">
                            <tr ng-repeat="(id, x) in labels">
                                <td><input type="text" class="form-control"  ng-model="x.K"></td>
                                <td style="width: 20px">=</td>
                                <td><input type="text" class="form-control"  ng-model="x.V"></td>
                                <td style="width: 50px">
                                    <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.delLabel(id)" uib-tooltip="删除" style="cursor:pointer;color: #f63;" ></i>
                                </td>
                            </tr>
                       </table>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label">停止等待时间</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" name="adduser" placeholder="停止等待时间" ng-model="kubernetescreatedeployment.editData.spec.template.spec.terminationGracePeriodSeconds" required>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label">副本数量</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" name="adduser" placeholder="副本数量" ng-model="kubernetescreatedeployment.editData.spec.replicas" required>
                    </div>
                </div>
            </div>

<hr>
滚动升级策略
            <div class="row">
                <div class="col-sm-12 form-group pull-left">
                    <button class="btn btn-primary" ng-disabled="kubernetescreatedeployment.editData.spec.strategy.type == 'RollingUpdate'" ng-click="kubernetescreatedeployment.switchStrategy('RollingUpdate')">RollingUpdate</button>
                    <button class="btn btn-primary" ng-disabled="kubernetescreatedeployment.editData.spec.strategy.type == 'Recreate'" ng-click="kubernetescreatedeployment.switchStrategy('Recreate')">Recreate</button>
                </div>
            </div>

            <div class="row" ng-if="kubernetescreatedeployment.editData.spec.strategy.type == 'RollingUpdate'" >
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label">MaxUnavailable</label>
                    <div class="col-sm-3">
                        <input type="text" class="form-control" name="adduser" placeholder="MaxUnavailable" ng-model="kubernetescreatedeployment.editData.spec.strategy.rollingUpdate.maxUnavailable" required>
                    </div>
                    <label class="col-sm-1 control-label">MaxSurge</label>
                    <div class="col-sm-3">
                        <input type="text" class="form-control" name="adduser" placeholder="MaxUnavailable" ng-model="kubernetescreatedeployment.editData.spec.strategy.rollingUpdate.maxSurge" required>
                    </div>
                </div>
            </div>
 
<hr>
            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label">添加数据卷</label>
                    <div class="col-sm-9">
                        <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addVolume('emptyDir')" uib-tooltip="添加emptyDir" style="cursor:pointer;color: #339094;" >empty</i>
                        <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addVolume('hostPath')" uib-tooltip="添加hostPath" style="cursor:pointer;color: #339094;" >hostpath</i>
                        <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addVolume('nfs')" uib-tooltip="添加nfs" style="cursor:pointer;color: #339094;" >nfs</i>
                        <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addVolume('secret')" uib-tooltip="添加secret" style="cursor:pointer;color: #339094;" >secret</i>
                        <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addVolume('configMap')" uib-tooltip="添加configMap" style="cursor:pointer;color: #339094;" >configMap</i>
                        <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addVolume('persistentVolumeClaim')" uib-tooltip="添加persistentVolumeClaim" style="cursor:pointer;color: #339094;" >persistentVolumeClaim</i>
                        <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.cleanVolume()" uib-tooltip="清空" style="cursor:pointer;color: #f63;" >清空</i>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label"></label>
                    <div class="col-sm-9">
                        <table  border="0" style="width: 100%">
                            <tr ng-repeat="(id, x) in kubernetescreatedeployment.editData.spec.template.spec.volumes">
                                <td>
                                    <div class="row" ng-if="x.emptyDir">
                                        <div class="col-sm-12 form-group">
                                             <label class="col-sm-2 control-label">类型: emptyDir</label>
                                             <label class="col-sm-1 control-label">名称</label>
                                             <div class="col-sm-9"> <input type="text" class="form-control" placeholder="" ng-model="x.name" required> </div>
                                         </div>
                                    </div>

                                    <div class="row" ng-if="x.hostPath">
                                        <div class="col-sm-12 form-group">
                                             <label class="col-sm-2 control-label">类型: hostPath</label>
                                             <label class="col-sm-1 control-label">名称</label>
                                             <div class="col-sm-4"> <input type="text" class="form-control" placeholder="" ng-model="x.name" required> </div>
                                             <label class="col-sm-1 control-label">path</label>
                                             <div class="col-sm-4"> <input type="text" class="form-control" placeholder="" ng-model="x.hostPath.path" required> </div>
                                         </div>
                                    </div>

                                    <div class="row" ng-if="x.nfs">
                                        <div class="col-sm-12 form-group">
                                             <label class="col-sm-2 control-label">类型: nfs</label>
                                             <label class="col-sm-1 control-label">名称</label>
                                             <div class="col-sm-2"> <input type="text" class="form-control" placeholder="" ng-model="x.name" required> </div>
                                             <label class="col-sm-1 control-label">server</label>
                                             <div class="col-sm-3"> <input type="text" class="form-control" placeholder="" ng-model="x.nfs.server" required> </div>
                                             <label class="col-sm-1 control-label">path</label>
                                             <div class="col-sm-2"> <input type="text" class="form-control" placeholder="" ng-model="x.nfs.path" required> </div>
                                         </div>
                                    </div>

                                    <div class="row" ng-if="x.secret">
                                        <div class="col-sm-12 form-group">
                                             <label class="col-sm-2 control-label">类型: secret</label>
                                             <label class="col-sm-1 control-label">名称</label>
                                             <div class="col-sm-4"> <input type="text" class="form-control" placeholder="" ng-model="x.name" required> </div>
                                             <label class="col-sm-1 control-label">secretName</label>
                                             <div class="col-sm-4"> <input type="text" class="form-control" placeholder="" ng-model="x.secret.secretName" required> </div>
                                         </div>
                                    </div>

                                    <div class="row" ng-if="x.persistentVolumeClaim">
                                        <div class="col-sm-12 form-group">
                                             <label class="col-sm-4 control-label">类型: persistentVolumeClaim</label>
                                             <label class="col-sm-1 control-label">名称</label>
                                             <div class="col-sm-3"> <input type="text" class="form-control" placeholder="" ng-model="x.name" required> </div>
                                             <label class="col-sm-1 control-label">claimName</label>
                                             <div class="col-sm-3"> <input type="text" class="form-control" placeholder="" ng-model="x.persistentVolumeClaim.claimName" required> </div>
                                         </div>
                                    </div>

                                    <div class="row" ng-if="x.configMap">
                                        <div class="col-sm-12 form-group">
                                             <label class="col-sm-2 control-label">类型: configMap</label>
                                             <label class="col-sm-1 control-label">名称</label>
                                             <div class="col-sm-4"> <input type="text" class="form-control" placeholder="" ng-model="x.name" required> </div>
                                             <label class="col-sm-1 control-label">configMap</label>
                                             <div class="col-sm-4"> <input type="text" class="form-control" placeholder="" ng-model="x.configMap.name" required> </div>
                                         </div>
                                    </div>

                                    <div class="row" ng-if="(!x.emptyDir) && (!x.hostPath) && (!x.nfs) && ( ! x.secret) && ( !x.persistentVolumeClaim ) &&(!x.configMap)">
                                        <div class="col-sm-12 form-group">
                                             <label class="col-sm-3 control-label">类型: 未知</label>
                                             <label class="col-sm-9 control-label">信息: {{x}}</label>
                                         </div>
                                    </div>

                                </td>

                                <td style="width: 50px">
                                    <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.delVolume(id)" uib-tooltip="删除" style="cursor:pointer;color: #f63;" ></i>
                                </td>
                            </tr>
                       </table>
                    </div>
                </div>
            </div>

<hr>
            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label">拉取私有镜像管理</label>
                    <div class="col-sm-6">
                            <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addSecret()" uib-tooltip="添加凭证" style="cursor:pointer;color: #339094;" >添加已有凭证</i>
                            <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.createSecret()" uib-tooltip="创建" style="cursor:pointer;color: green;" >创建</i>
                            <i class="fa fa-arrow-circle-down fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.autoGetSecret()" uib-tooltip="自动获取Namepspace下所有凭证" style="cursor:pointer;color: #4541f4;" >导入</i>
                            <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.cleanSecret()" uib-tooltip="清空" style="cursor:pointer;color: #f63;" >清空</i>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label"></label>
                    <div class="col-sm-9">
                        <table  border="0" style="width: 450px">
                            <tr ng-repeat="(id, x) in kubernetescreatedeployment.editData.spec.template.spec.imagePullSecrets">
                                <td><input type="text" class="form-control"  ng-model="x.name"></td>
                                <td style="width: 50px">
                                    <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.delSecret(id)" uib-tooltip="删除" style="cursor:pointer;color: #f63;" ></i>
                                </td>
                            </tr>
                       </table>
                    </div>
                </div>
            </div>
<hr>
调度
<a ng-if="kubernetescreatedeployment.advancedconfig" class="fa fa-toggle-on fa-2x" data-toggle="tooltip" data-placement="left" uib-tooltip="隐藏高级配置" aria-hidden="true"style="padding-top: 11px;font-size: larger;" ng-click="kubernetescreatedeployment.advancedconfig=0"></a>
<a ng-if="!kubernetescreatedeployment.advancedconfig" class="fa fa-toggle-off fa-2x" data-toggle="tooltip" data-placement="left" uib-tooltip="显示高级配置" aria-hidden="true"style="padding-top: 11px;font-size: larger;" ng-click="kubernetescreatedeployment.advancedconfig=1"></a>

<br>
<div ng-if="kubernetescreatedeployment.advancedconfig===1">
            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label">节点亲和性调度</label>
                    <div class="col-sm-6">
                            <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addNodeAffinity()" uib-tooltip="添加目标节点标签" style="cursor:pointer;color: #339094;" ></i>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label"></label>
                    <div class="col-sm-9">
                        <table  border="0" style="width: 100%">
                            <tr ng-repeat="(id, x) in kubernetescreatedeployment.editData.spec.template.spec.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms[0].matchExpressions">
                                <td>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">key</label>
                                            <div class="col-sm-3">
                                                 <select id="selecteddataval" class="form-control"  ng-model="x.key" >
                                                      <option ng-repeat="x in kubernetescreatedeployment.nodelabel.key" value="{{x}}">{{x}}</option>
                                                 </select>
                                            </div>

                                            <label class="col-sm-1 control-label">operator</label>
                                            <div class="col-sm-3">
                                                  <select id="selecteddataval" class="form-control"  ng-model="x.operator" >
                                                      <option value="In">In</option>
                                                      <option value="NotIn">NotIn</option>
                                                      <option value="Exists">Exists</option>
                                                      <option value="DoesNotExist">DoesNotExist</option>
                                                      <option value="Gt">Gt</option>
                                                      <option value="Lt">Lt</option>
                                                  </select>
                                             </div>
 
                                             <label class="col-sm-1 control-label">values</label>
                                             <div class="col-sm-3">
                                                  {{x.values}}
                                                  <select id="selecteddataval" class="form-control"  ng-model="x.values" multiple="multiple">
                                                         <option ng-repeat="x in kubernetescreatedeployment.nodelabel.value[x.key]" value="{{x}}">{{x}}</option>
                                                  </select>
                                             </div>
 
                                        </div>
                                    </div>

                                </td>
                                <td style="width: 50px">
                                    <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.delNodeAffinity(id)" uib-tooltip="删除" style="cursor:pointer;color: #f63;" ></i>
                                </td>
                            </tr>
                       </table>
                    </div>
                </div>
            </div>






            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label">POD亲和性调度</label>
                    <div class="col-sm-6">
                            <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addPodAffinity()" uib-tooltip="添加亲和POD信息" style="cursor:pointer;color: #339094;" ></i>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label"></label>
                    <div class="col-sm-9">
                        <table  border="0" style="width: 100%">
                            <tr ng-repeat="(id, x) in kubernetescreatedeployment.editData.spec.template.spec.affinity.podAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].labelSelector.matchExpressions">
                                <td>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">key</label>
                                            <div class="col-sm-3">
                                                 <select id="selecteddataval" class="form-control"  ng-model="x.key" >
                                                      <option ng-repeat="x in kubernetescreatedeployment.nodepodlabel.key" value="{{x}}">{{x}}</option>
                                                 </select>
                                            </div>

                                            <label class="col-sm-1 control-label">operator</label>
                                            <div class="col-sm-3">
                                                  <select id="selecteddataval" class="form-control"  ng-model="x.operator" >
                                                      <option value="In">In</option>
                                                      <option value="NotIn">NotIn</option>
                                                      <option value="Exists">Exists</option>
                                                      <option value="DoesNotExist">DoesNotExist</option>
                                                      <option value="Gt">Gt</option>
                                                      <option value="Lt">Lt</option>
                                                  </select>
                                             </div>
 
                                             <label class="col-sm-1 control-label">values</label>
                                             <div class="col-sm-3">
                                                  {{x.values}}
                                                  <select id="selecteddataval" class="form-control"  ng-model="x.values" multiple="multiple">
                                                         <option ng-repeat="x in kubernetescreatedeployment.nodepodlabel.value[x.key]" value="{{x}}">{{x}}</option>
                                                  </select>
                                             </div>
 
                                        </div>
                                    </div>

                                </td>
                                <td style="width: 50px">
                                    <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.delPodAffinity(id)" uib-tooltip="删除" style="cursor:pointer;color: #f63;" ></i>
                                </td>
                            </tr>
                       </table>
                    </div>
                </div>
            </div>

            <div class="row" ng-if="kubernetescreatedeployment.editData.spec.template.spec.affinity.podAffinity.requiredDuringSchedulingIgnoredDuringExecution[0]" >
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label"></label>
                    <label class="col-sm-1 control-label">namespace</label>
                    <div class="col-sm-4">
                        {{ kubernetescreatedeployment.editData.spec.template.spec.affinity.podAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].namespaces }}
                        <select id="selecteddataval" class="form-control"  ng-model="kubernetescreatedeployment.editData.spec.template.spec.affinity.podAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].namespaces" multiple="multiple">
                            <option ng-repeat="x in kubernetescreatedeployment.namespaces" value="{{x.NAME}}">{{x.NAME}}</option>
                        </select>
                    </div>


                    <label class="col-sm-1 control-label">topologyKey</label>
                    <div class="col-sm-3">
                        <input type="text" class="form-control" placeholder="节点标签Key" ng-model="kubernetescreatedeployment.editData.spec.template.spec.affinity.podAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].topologyKey">
                    </div>
                </div>
            </div>







            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label">POD反亲和性调度</label>
                    <div class="col-sm-6">
                            <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addPodAntiAffinity()" uib-tooltip="添加反亲和POD信息" style="cursor:pointer;color: #339094;" ></i>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label"></label>
                    <div class="col-sm-9">
                        <table  border="0" style="width: 100%">
                            <tr ng-repeat="(id, x) in kubernetescreatedeployment.editData.spec.template.spec.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].labelSelector.matchExpressions">
                                <td>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">key</label>
                                            <div class="col-sm-3">
                                                 <select id="selecteddataval" class="form-control"  ng-model="x.key" >
                                                      <option ng-repeat="x in kubernetescreatedeployment.nodepodlabel.key" value="{{x}}">{{x}}</option>
                                                 </select>
                                            </div>

                                            <label class="col-sm-1 control-label">operator</label>
                                            <div class="col-sm-3">
                                                  <select id="selecteddataval" class="form-control"  ng-model="x.operator" >
                                                      <option value="In">In</option>
                                                      <option value="NotIn">NotIn</option>
                                                      <option value="Exists">Exists</option>
                                                      <option value="DoesNotExist">DoesNotExist</option>
                                                      <option value="Gt">Gt</option>
                                                      <option value="Lt">Lt</option>
                                                  </select>
                                             </div>
 
                                             <label class="col-sm-1 control-label">values</label>
                                             <div class="col-sm-3">
                                                  {{x.values}}
                                                  <select id="selecteddataval" class="form-control"  ng-model="x.values" multiple="multiple">
                                                         <option ng-repeat="x in kubernetescreatedeployment.nodepodlabel.value[x.key]" value="{{x}}">{{x}}</option>
                                                  </select>
                                             </div>
 
                                        </div>
                                    </div>

                                </td>
                                <td style="width: 50px">
                                    <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.delPodAntiAffinity(id)" uib-tooltip="删除" style="cursor:pointer;color: #f63;" ></i>
                                </td>
                            </tr>
                       </table>
                    </div>
                </div>
            </div>

            <div class="row" ng-if="kubernetescreatedeployment.editData.spec.template.spec.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0]" >
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label"></label>
                    <label class="col-sm-1 control-label">namespace</label>
                    <div class="col-sm-4">
                        {{ kubernetescreatedeployment.editData.spec.template.spec.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].namespaces }}
                        <select id="selecteddataval" class="form-control"  ng-model="kubernetescreatedeployment.editData.spec.template.spec.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].namespaces" multiple="multiple">
                            <option ng-repeat="x in kubernetescreatedeployment.namespaces" value="{{x.NAME}}">{{x.NAME}}</option>
                        </select>
                    </div>


                    <label class="col-sm-1 control-label">topologyKey</label>
                    <div class="col-sm-3">
                        <input type="text" class="form-control" placeholder="节点标签Key" ng-model="kubernetescreatedeployment.editData.spec.template.spec.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].topologyKey">
                    </div>
                </div>
            </div>









            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label">容忍</label>
                    <div class="col-sm-6">
                            <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addTolerations()" uib-tooltip="添加容忍规则" style="cursor:pointer;color: #339094;" ></i>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label"></label>
                    <div class="col-sm-9">
                        <table  border="0" style="width: 100%">
                            <tr ng-repeat="(id, x) in kubernetescreatedeployment.editData.spec.template.spec.tolerations">
                                <td>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">key</label>
                                            <div class="col-sm-2">
                                                 <select id="selecteddataval" class="form-control"  ng-model="x.key" >
                                                      <option ng-repeat="x in kubernetescreatedeployment.nodepodlabel.key" value="{{x}}">{{x}}</option>
                                                 </select>
                                            </div>

                                            <label class="col-sm-1 control-label">operator</label>
                                            <div class="col-sm-1">
                                                  <select id="selecteddataval" class="form-control"  ng-model="x.operator" >
                                                      <option value="Equal">Equal</option>
                                                      <option value="Exists">Exists</option>
                                                  </select>
                                             </div>
 
                                             <label class="col-sm-1 control-label">value</label>
                                             <div class="col-sm-2">
                                                  <select id="selecteddataval" class="form-control"  ng-model="x.value">
                                                         <option ng-repeat="x in kubernetescreatedeployment.nodepodlabel.value[x.key]" value="{{x}}">{{x}}</option>
                                                  </select>
                                             </div>
                                            <label class="col-sm-1 control-label">effect</label>
                                            <div class="col-sm-3">
                                                  <select id="selecteddataval" class="form-control"  ng-model="x.effect" >
                                                      <option value="NoSchedule">NoExecute(不允许调度，已经调度的资源不受影响)</option>
                                                      <option value="PreferNoSchedule">PreferNoSchedule(尽量不调度)</option>
                                                      <option value="NoExecute">NoExecute（不允许调度）</option>
                                                  </select>
                                             </div>
 
                                        </div>
                                    </div>

                                </td>
                                <td style="width: 50px">
                                    <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.delTolerations(id)" uib-tooltip="删除" style="cursor:pointer;color: #f63;" ></i>
                                </td>
                            </tr>
                       </table>
                    </div>
                </div>
            </div>



</div>



<hr>

            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label">容器</label>
                    <div class="col-sm-6">
                            <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addContainer()" uib-tooltip="添加容器" style="cursor:pointer;color: #339094;" ></i>
                    </div>
                </div>
            </div>

 
            <div class="row">
                <div class="col-sm-12 form-group">
                    <label class="col-sm-1 control-label"></label>
                    <div class="col-sm-10">
                        <table  border="0" style="width: 100%">
                            <tr ng-repeat="(id, x) in kubernetescreatedeployment.editData.spec.template.spec.containers">
                                <td >

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">容器名称</label>
                                            <div class="col-sm-9">
                                                <input type="text" class="form-control" placeholder="容器名称" ng-model="x.name" required>
                                           </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">镜像</label>
                                            <div class="col-sm-9">
                                                <input type="text" class="form-control" placeholder="镜像" ng-model="x.image" required>
                                           </div>
                                            <div class="col-sm-1">
                                                <button class="btn btn-primary" ng-click="kubernetescreatedeployment.addImageAddrByTicket(x)">获取仓库地址</button>
                                           </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">镜像拉取策略</label>
                                            <div class="col-sm-9">
                                                <button class="btn btn-primary" ng-disabled="x.imagePullPolicy == 'Always'" ng-click="kubernetescreatedeployment.switchImagePullPolicy(x, 'Always')">Always</button>
                                                <button class="btn btn-primary" ng-disabled="x.imagePullPolicy == 'IfNotPresent'" ng-click="kubernetescreatedeployment.switchImagePullPolicy(x, 'IfNotPresent')">IfNotPresent</button>
                                                <button class="btn btn-primary" ng-disabled="x.imagePullPolicy == 'Never'" ng-click="kubernetescreatedeployment.switchImagePullPolicy(x, 'Never')">Never</button>
                                                <button class="btn btn-primary" ng-disabled="!x.imagePullPolicy" ng-click="kubernetescreatedeployment.switchImagePullPolicy(x, '')">清空</button>
                                           </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label"></label>
                                            <div class="col-sm-9">
                                                若不设置镜像拉取策略，当镜像版本为空或:latest时，使用Always策略，否则使用IfNotPresent策略
                                           </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">CPU限制</label>
                                            <label class="col-sm-1 control-label">request</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" placeholder="" ng-model="x.resources.requests.cpu" required>
                                           </div>

                                            <label class="col-sm-1 control-label">limit</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" placeholder="" ng-model="x.resources.limits.cpu" required>
                                           </div>
                                            <label class="col-sm-1 control-label"></label>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">内存限制</label>
                                            <label class="col-sm-1 control-label">request</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" placeholder="" ng-model="x.resources.requests.memory" required>
                                           </div>

                                            <label class="col-sm-1 control-label">limit</label>
                                            <div class="col-sm-2">
                                                <input type="text" class="form-control" placeholder="" ng-model="x.resources.limits.memory" required>
                                           </div>
                                           <label class="col-sm-1 control-label"></label>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label"></label>
                                            <div class="col-sm-9">
                                                Request用于预分配资源，当集群中的节点没有request所要求的资源数量时，容器会创建失败。Limit用于设置容器使用的最大上限，避免异常情况下节点资源消耗过多。
                                           </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">启动命令</label>
                                            <div class="col-sm-7"> {{x.command||'无'}} </div>
                                            <div class="col-sm-1">
                                                <a ng-click="kubernetescreatedeployment.editCommandText=1" style="cursor:pointer;color: #339094;" >编辑</a>
                                             </div>
                                            <div class="col-sm-1">
                                                <a ng-click="kubernetescreatedeployment.delCommand(x)" style="cursor:pointer;color: #339094;" >清空</a>
                                            </div>
 
                                        </div>
                                    </div>

                                    <div class="row" ng-if="kubernetescreatedeployment.editCommandText===1">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label"></label>
                                            <div class="col-sm-7">
                                                <input type="text" class="form-control" name="adduser" placeholder="启动命令" ng-model="x.tempcommandstring"  >
                                            </div>
                                            <div class="col-sm-1">
                                                <a ng-click="kubernetescreatedeployment.addCommand(x, x.tempcommandstring)" style="cursor:pointer;color: #339094;" >添加</a>
                                            </div>
                                            <div class="col-sm-1">
                                                <a ng-click="kubernetescreatedeployment.editCommandText=0" style="cursor:pointer;color: #339094;" >关闭</a>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">命令参数</label>
                                            <div class="col-sm-7"> {{x.args||'无'}} </div>
                                            <div class="col-sm-1">
                                                <a ng-click="kubernetescreatedeployment.editArgsText=1" style="cursor:pointer;color: #339094;" >编辑</a>
                                             </div>
                                            <div class="col-sm-1">
                                                <a ng-click="kubernetescreatedeployment.delArgs(x)" style="cursor:pointer;color: #339094;" >清空</a>
                                            </div>
 
                                        </div>
                                    </div>

                                    <div class="row" ng-if="kubernetescreatedeployment.editArgsText===1">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label"></label>
                                            <div class="col-sm-7">
                                                <input type="text" class="form-control" name="adduser" placeholder="命令参数" ng-model="x.tempargsstring"  >
                                            </div>
                                            <div class="col-sm-1">
                                                <a ng-click="kubernetescreatedeployment.addArgs(x, x.tempargsstring)" style="cursor:pointer;color: #339094;" >添加</a>
                                            </div>
                                            <div class="col-sm-1">
                                                <a ng-click="kubernetescreatedeployment.editArgsText=0" style="cursor:pointer;color: #339094;" >关闭</a>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">环境变量</label>
                                            <div class="col-sm-9">
                                                <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addContainerEnv(x)" uib-tooltip="添加普通环境变量" style="cursor:pointer;color: #339094;" >普通变量</i>
                                                <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addContainerEnvConfigMap(x)" uib-tooltip="添加ConfigMap环境变量" style="cursor:pointer;color: #339094;" >ConfigMap变量</i>
                                                <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addContainerEnvSecret(x)" uib-tooltip="添加Secret环境变量" style="cursor:pointer;color: #339094;" >Secret变量</i>
                                                <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.cleanContainerEnv(x)" uib-tooltip="清空环境变量" style="cursor:pointer;color: #f63;" >清空</i>
                                            </div>
                                        </div>
                                    </div>

                                   <div class="row">
                                       <div class="col-sm-12 form-group">
                                           <label class="col-sm-1 control-label"></label>
                                           <div class="col-sm-11">
                                               <table  border="0" style="width: 100%" >
                                                   <tr ng-repeat="(id, xx) in x.env">
                                                     <td>
                                                           <div class="row" ng-if="( xx.value === undefined ) && (!xx.valueFrom.configMapKeyRef) && ( ! xx.valueFrom.secretKeyRef)">
                                                               <div class="col-sm-12 form-group">
                                                                   <label class="col-sm-12 control-label">未知变量类型：{{xx}}</label>
                                                               </div>
                                                           </div>
 

                                                           <div class="row" ng-if="xx.value !== undefined">
                                                               <div class="col-sm-12 form-group">
                                                                   <label class="col-sm-1 control-label">普通变量</label>
                                                                   <label class="col-sm-1 control-label">name</label>
                                                                   <div class="col-sm-4"> <input type="text" class="form-control" placeholder="" ng-model="xx.name" required> </div>
                                                                   <label class="col-sm-1 control-label">value</label>
                                                                   <div class="col-sm-5"> <input type="text" class="form-control" placeholder="" ng-model="xx.value" required> </div>
                                                               </div>
                                                           </div>

                                                           <div class="row" ng-if="xx.valueFrom.configMapKeyRef">
                                                               <div class="col-sm-12 form-group">
                                                                   <label class="col-sm-1 control-label">ConfigMap变量</label>
                                                                   <label class="col-sm-1 control-label">name</label>
                                                                   <div class="col-sm-2"> <input type="text" class="form-control" placeholder="" ng-model="xx.name" required> </div>
                                                                   <label class="col-sm-1 control-label">ConfigMapName</label>
                                                                   <div class="col-sm-3"> <input type="text" class="form-control" placeholder="" ng-model="xx.valueFrom.configMapKeyRef.name" required> </div>
                                                                   <label class="col-sm-1 control-label">ConfigMapKey</label>
                                                                   <div class="col-sm-3"> <input type="text" class="form-control" placeholder="" ng-model="xx.valueFrom.configMapKeyRef.key" required> </div>
                                                               </div>
                                                           </div>


                                                           <div class="row" ng-if="xx.valueFrom.secretKeyRef">
                                                               <div class="col-sm-12 form-group">
                                                                   <label class="col-sm-1 control-label">secret变量</label>
                                                                   <label class="col-sm-1 control-label">name</label>
                                                                   <div class="col-sm-2"> <input type="text" class="form-control" placeholder="" ng-model="xx.name" required> </div>
                                                                   <label class="col-sm-1 control-label">SecretName</label>
                                                                   <div class="col-sm-3"> <input type="text" class="form-control" placeholder="" ng-model="xx.valueFrom.secretKeyRef.name" required> </div>
                                                                   <label class="col-sm-1 control-label">SecretKey</label>
                                                                   <div class="col-sm-3"> <input type="text" class="form-control" placeholder="" ng-model="xx.valueFrom.secretKeyRef.key" required> </div>
                                                               </div>
                                                           </div>


                                                      </td>
                                                       <td style="width: 50px">
                                                           <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.delContainerEnv(x,id)" uib-tooltip="删除" style="cursor:pointer;color: #f63;" ></i>
                                                       </td>
                                                   </tr>
                                              </table>
                                           </div>
                                       </div>
                                   </div>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">端口设置</label>
                                            <div class="col-sm-9">
                                                <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addContainerPorts(x,'TCP')" uib-tooltip="添加TCP端口" style="cursor:pointer;color: #339094;" >TCP</i>
                                                <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addContainerPorts(x,'UDP')" uib-tooltip="添加UDP端口" style="cursor:pointer;color: #339094;" >UDP</i>
                                                <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.cleanContainerPorts(x)" uib-tooltip="清空" style="cursor:pointer;color: #f63;" >清空</i>
                                            </div>
                                        </div>
                                    </div>

                                   <div class="row">
                                       <div class="col-sm-12 form-group">
                                           <label class="col-sm-1 control-label"></label>
                                           <div class="col-sm-7">
                                               <table  border="0" style="width: 100%" >
                                                   <tr ng-repeat="(id, xx) in x.ports">
                                                     <td>
                                                           <div ng-if="!( xx.protocol ==='TCP' || xx.protocol ==='UDP' )">
                                                               未知类型:{{xx}}
                                                           </div>
 

                                                           <div class="row" ng-if="xx.protocol ==='TCP' || xx.protocol ==='UDP' ">
                                                               <div class="col-sm-12 form-group">
                                                                   <label class="col-sm-1 control-label">{{xx.protocol}}</label>
                                                                   <label class="col-sm-1 control-label">name</label>
                                                                   <div class="col-sm-4"> <input type="text" class="form-control" placeholder="" ng-model="xx.name" required> </div>
                                                                   <label class="col-sm-1 control-label">端口</label>
                                                                   <div class="col-sm-5"> <input type="number" class="form-control" placeholder="" ng-model="xx.containerPort" required> </div>
                                                               </div>
                                                           </div>


                                                      </td>
                                                       <td style="width: 50px">
                                                           <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.delContainerEnv(x,id)" uib-tooltip="删除" style="cursor:pointer;color: #f63;" ></i>
                                                       </td>
                                                   </tr>
                                              </table>
                                           </div>
                                       </div>
                                   </div>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">卷挂载点</label>
                                            <div class="col-sm-9">
                                                <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addContainerVolume(x)" uib-tooltip="添加挂载点" style="cursor:pointer;color: #339094;" >目录</i>
                                                <i class="fa fa-plus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.addContainerVolumeFile(x)" uib-tooltip="添加挂载点" style="cursor:pointer;color: #339094;" >单个文件</i>
                                                <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.cleanContainerVolume(x)" uib-tooltip="清空" style="cursor:pointer;color: #f63;" >清空</i>
                                            </div>
                                        </div>
                                    </div>

                                   <div class="row">
                                       <div class="col-sm-12 form-group">
                                           <label class="col-sm-1 control-label"></label>
                                           <div class="col-sm-11">
                                               <table  border="0" style="width: 100%" >
                                                   <tr ng-repeat="(id, xx) in x.volumeMounts">
                                                     <td>

                                                           <div class="row">
                                                               <div class="col-sm-12 form-group">
                                                                   <label class="col-sm-1 control-label">name</label>
                                                                   <div class="col-sm-2">
                                                                       <select id="selecteddataval" class="form-control"  ng-model="xx.name" >
                                                                           <option ng-repeat="x in kubernetescreatedeployment.editData.spec.template.spec.volumes" value="{{x.name}}">{{x.name}}</option>
                                                                       </select>
                                                                   </div>
                                                                   <label class="col-sm-1 control-label">mountPath</label>
                                                                   <div class="col-sm-3"> <input type="text" class="form-control" placeholder="挂载文件时写文件路径" ng-model="xx.mountPath" required> </div>

                                                                   <label ng-if="!(xx.subPath === undefined)" class="col-sm-1 control-label">subPath</label>
                                                                   <div ng-if="!(xx.subPath === undefined)" class="col-sm-3"> <input type="text" class="form-control" placeholder="" ng-model="xx.subPath" required> </div>
                                                               </div>
                                                           </div>



                                                      </td>
                                                       <td style="width: 50px">
                                                           <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.delContainerVolume(x,id)" uib-tooltip="删除" style="cursor:pointer;color: #f63;" ></i>
                                                       </td>
                                                   </tr>
                                              </table>
                                           </div>
                                       </div>
                                   </div>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">应用存活探针</label>
                                            <div class="col-sm-9">
                                                <button class="btn btn-primary" ng-disabled="x.livenessProbe.exec" ng-click="kubernetescreatedeployment.addContainerlivenessProbeCmd(x)">命令行方式</button>
                                                <button class="btn btn-primary" ng-disabled="x.livenessProbe.httpGet" ng-click="kubernetescreatedeployment.addContainerlivenessProbeHttp(x)">HTTP请求方式</button>
                                                <button class="btn btn-primary" ng-disabled="x.livenessProbe.tcpSocket" ng-click="kubernetescreatedeployment.addContainerlivenessProbePort(x)">TCP请求方式</button>
                                                <button class="btn btn-primary" ng-disabled="!x.livenessProbe" ng-click="kubernetescreatedeployment.cleanContainerlivenessProbe(x)">清空</button>
                                           </div>
                                        </div>
                                    </div>

                                    <div class="row" ng-if="x.livenessProbe">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label"></label>
                                            <label class="col-sm-1 control-label">首次探测时间/秒</label>
                                            <div class="col-sm-2"> <input type="number" class="form-control" placeholder="" ng-model="x.livenessProbe.initialDelaySeconds" required> </div>

                                            <label class="col-sm-1 control-label">探测间隔时间/秒</label>
                                            <div class="col-sm-2"> <input type="number" class="form-control" placeholder="" ng-model="x.livenessProbe.periodSeconds" required> </div>

                                            <label class="col-sm-1 control-label">探测超时时间/秒</label>
                                            <div class="col-sm-2"> <input type="number" class="form-control" placeholder="" ng-model="x.livenessProbe.timeoutSeconds" required> </div>
                                        </div>
                                    </div>

                                    <div class="row" ng-if="x.livenessProbe.exec">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label"></label>
                                            <label class="col-sm-1 control-label">命令行</label>
                                            <label class="col-sm-8 control-label">{{x.livenessProbe.exec.command}}</label>
                                        </div>
                                    </div>

                                    <div class="row" ng-if="x.livenessProbe.httpGet">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label"></label>
                                            <label class="col-sm-1 control-label">端口</label>
                                            <div class="col-sm-2"> <input type="number" class="form-control" placeholder="" ng-model="x.livenessProbe.httpGet.port" required> </div>
                                            <label class="col-sm-1 control-label">路径</label>
                                            <div class="col-sm-5"> <input type="text" class="form-control" placeholder="" ng-model="x.livenessProbe.httpGet.path" required> </div>
                                        </div>
                                    </div>

                                    <div class="row" ng-if="x.livenessProbe.tcpSocket">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label"></label>
                                            <label class="col-sm-1 control-label">端口</label>
                                            <div class="col-sm-2"> <input type="number" class="form-control" placeholder="" ng-model="x.livenessProbe.tcpSocket.port" required> </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label">应用就绪探针</label>
                                            <div class="col-sm-9">
                                                <button class="btn btn-primary" ng-disabled="x.readinessProbe.exec" ng-click="kubernetescreatedeployment.addContainerreadinessProbeCmd(x)">命令行方式</button>
                                                <button class="btn btn-primary" ng-disabled="x.readinessProbe.httpGet" ng-click="kubernetescreatedeployment.addContainerreadinessProbeHttp(x)">HTTP请求方式</button>
                                                <button class="btn btn-primary" ng-disabled="x.readinessProbe.tcpSocket" ng-click="kubernetescreatedeployment.addContainerreadinessProbePort(x)">TCP请求方式</button>
                                                <button class="btn btn-primary" ng-disabled="!x.readinessProbe" ng-click="kubernetescreatedeployment.cleanContainerreadinessProbe(x)">清空</button>
                                           </div>
                                        </div>
                                    </div>

                                    <div class="row" ng-if="x.readinessProbe">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label"></label>
                                            <label class="col-sm-1 control-label">首次探测时间/秒</label>
                                            <div class="col-sm-2"> <input type="number" class="form-control" placeholder="" ng-model="x.readinessProbe.initialDelaySeconds" required> </div>

                                            <label class="col-sm-1 control-label">探测间隔时间/秒</label>
                                            <div class="col-sm-2"> <input type="number" class="form-control" placeholder="" ng-model="x.readinessProbe.periodSeconds" required> </div>

                                            <label class="col-sm-1 control-label">探测超时时间/秒</label>
                                            <div class="col-sm-2"> <input type="number" class="form-control" placeholder="" ng-model="x.readinessProbe.timeoutSeconds" required> </div>
                                        </div>
                                    </div>

                                    <div class="row" ng-if="x.readinessProbe.exec">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label"></label>
                                            <label class="col-sm-1 control-label">命令行</label>
                                            <label class="col-sm-8 control-label">{{x.readinessProbe.exec.command}}</label>
                                        </div>
                                    </div>

                                    <div class="row" ng-if="x.readinessProbe.httpGet">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label"></label>
                                            <label class="col-sm-1 control-label">端口</label>
                                            <div class="col-sm-2"> <input type="number" class="form-control" placeholder="" ng-model="x.readinessProbe.httpGet.port" required> </div>
                                            <label class="col-sm-1 control-label">路径</label>
                                            <div class="col-sm-5"> <input type="text" class="form-control" placeholder="" ng-model="x.readinessProbe.httpGet.path" required> </div>
                                        </div>
                                    </div>

                                    <div class="row" ng-if="x.readinessProbe.tcpSocket">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-1 control-label"></label>
                                            <label class="col-sm-1 control-label">端口</label>
                                            <div class="col-sm-2"> <input type="number" class="form-control" placeholder="" ng-model="x.readinessProbe.tcpSocket.port" required> </div>
                                        </div>
                                    </div>

                                </td>
                                <td style="width: 50px">
                                    <i class="fa fa-minus-circle fa-2x" aria-hidden="true" ng-click="kubernetescreatedeployment.delContainer(id)" uib-tooltip="删除" style="cursor:pointer;color: #f63;" ></i>
                                </td>
                            </tr>
                       </table>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-2 form-group pull-right">
                    <button class="btn btn-primary" ng-disabled="myForm.$invalid" ng-click="kubernetescreatedeployment.gotostep2()">下一步</button>
                </div>
            </div>

        </div>

        <div class="panel-body" ng-if="editstep===2">
            <div class="row">
                <div class="col-sm-2 form-group pull-right">
                    <button class="btn btn-primary" ng-disabled="myForm.$invalid" ng-click="kubernetescreatedeployment.gotostep1()">返回上一步</button>
                </div>
            </div>
            <div class="pt20">
                <table class="textdiff">
                    <tr>
                        <td>
                            <textarea style="width: 100%;overflow: auto;word-break: break-all;height: 1000px;" ng-model="kubernetescreatedeployment.newyaml" ng-change="kubernetescreatedeployment.diff()"> </textarea>
                        </td>
                        <td><pre style="height: 1000px;"  id="diffresultstring" ></pre></td>
                    </tr>
                </table>
            </div>
            <div class="row">
                <div class="col-sm-2 form-group pull-right">
                    <button class="btn btn-info" ng-disabled="myForm.$invalid" ng-click="kubernetescreatedeployment.assignment()">操作协助</button>
                    <button class="btn btn-primary" ng-disabled="myForm.$invalid" ng-click="kubernetescreatedeployment.apply()">提交变更</button>
                </div>
            </div>
        </div>

    </div>
</div>

<style>.modal-dialog {width: 90%;} </style>
<script src="assets/js/diff.js"></script>
<link rel="stylesheet" href="assets/css/style.css"/>
